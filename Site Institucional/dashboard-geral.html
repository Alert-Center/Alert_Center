<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/dashboard.css">
  <link rel="stylesheet" href="css/reset.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <title>OnData</title>
</head>

<body>

  <!-- CABEÇALHO / NAVBAR  -->
  <div class="container">
    <nav class="navbar">
      <a href="index.html">
        <img src="img/logo.png" alt="" class="logo">
      </a>

      <img class="user-pic" src="img/usuario-de-perfil.png" alt="icone usuario de perfil" onclick="alternarMenu()">

      <div class="sub-menu-wrap" id="subMenu">
        <div class="sub-menu">
          <div class="user-info">
            <img src="img/usuario-de-perfil.png" alt="icone usuario de perfil">
            <!-- Adicionar um JS para pegar o nome que a pessoa cadastrou -->
            <h3>Luiz Nison</h3>
          </div>
          <hr>

          <a href="#" class="sub-menu-link ">
            <img src="img/edit-user.png" alt="">
            <p>Editar perfil</p>
            <span>></span>
          </a>

          <a href="#" class="sub-menu-link ">
            <img src="img/settings-profile.png" alt="">
            <p>Configurações</p>
            <span>></span>
          </a>

          <a href="#" class="sub-menu-link ">
            <img src="img/help.png" alt="">
            <p>Ajuda</p>
            <span>></span>
          </a>

          <!-- Quando clicar no "Sair" será redirecionado para a página de login -->
          <a href="login.html" class="sub-menu-link ">
            <img src="img/log-out.png" alt="">
            <p>Sair</p>
            <span>></span>
          </a>
        </div>
      </div>
    </nav>
  </div>
  <!-- FIM CABEÇALHO / NAVBAR  -->

  <div class="container-1" id="container-1">
    <div class="caixa" id="caixa">
      <div class="cliente" id="cliente">
        <h1>Olá, cliente!</h1>
        <p>Vamos analisar as métricas do seu data center.</p>
      </div>

      <div class="relatorio-rack">
        <canvas id="chart-relatorio-rack"></canvas>
      </div>

      <div class="relatorio-downtime">
        <canvas id="chart-relatorio-downtime"></canvas>
      </div>
    </div>

    <div class="grafico-geral">
      <div class="caixa-kpi">
        <div class="kpi-temperatura">
          <div class="indices">
            <h4>Índices de Temperatura</h4>
            <p id="p-perigo-min">Perigo: ≤ 18ºC</p>
            <p id="p-alerta">Alerta: 19ºC - 22ºC</p>
            <p id="p-ideal">Ideal: 23ºC - 26ºC</p>
            <p id="p-alerta">Alerta: 27ºC - 31ºC</p>
            <p id="p-perigo-max">Perigo: ≥ 32ºC</p>
          </div>

          <div class="kpi-atual">
            <div id="temperatura-minima">
              <p>Temperatura mínima ideal: </p>
              <p id="dado">15ºC</p>
              <p>Temperatura mínima atual</p>
              <p>09/10/2022</p>
              <p>Data Center 1 | Rack 3</p>
            </div>

            <div id="temperatura-alerta">
              <p>Temperatura de alerta: </p>
              <p id="dado">18ºC</p>
              <p>Temperatura mínima atual</p>
              <p>09/10/2022</p>
              <p>Data Center 1 | Rack 3</p>
            </div>

            <div id="temperatura-ideal">
              <p>Temperatura ideal: </p>
              <p id="dado">22ºC</p>
              <p>Temperatura mínima atual</p>
              <p>09/10/2022</p>
              <p>Data Center 1 | Rack 3</p>
            </div>

            <div id="temperatura-perigo">
              <p>Temperatura máxima de perigo: </p>
              <p id="dado">32ºC</p>
              <p>Temperatura mínima atual</p>
              <p>09/10/2022</p>
              <p>Data Center 1 | Rack 3</p>
            </div>
          </div>
        </div>
      </div>

      <div class="caixa-kpi">
        <div class="kpi-umidade">
          <div class="indices">
            <h4>Índices de Umidade</h4>
            <p id="p-perigo-min">Perigo: ≤ 30%</p>
            <p id="p-alerta">Alerta: 31% - 46%</p>
            <p id="p-ideal">Ideal: 47% - 62%</p>
            <p id="p-alerta">Alerta: 63% - 79%</p>
            <p id="p-perigo-max">Perigo: ≥ 80%</p>
          </div>

          <div class="kpi-atual">
            <div id="umidade-minima">
              <p>Umidade mínima ideal: </p>
              <p id="dado">29%</p>
              <p>Umidade mínima atual</p>
              <p>09/10/2022</p>
              <p>Data Center 2 | Rack 6</p>
            </div>

            <div id="umidade-alerta">
              <p>Umidade de alerta: </p>
              <p id="dado">32%</p>
              <p>Umidade mínima atual</p>
              <p>09/10/2022</p>
              <p>Data Center 3 | Rack 2</p>
            </div>

            <div id="umidade-ideal">
              <p>Umidade ideal: </p>
              <p id="dado">56%</p>
              <p>Umidade mínima atual</p>
              <p>09/10/2022</p>
              <p>Data Center 3 | Rack 5</p>
            </div>

            <div id="umidade-perigo">
              <p>Umidade máxima de perigo: </p>
              <p id="dado">81
                %</p>
              <p>Umidade mínima atual</p>
              <p>09/10/2022</p>
              <p>Data Center 3 | Rack 1</p>
            </div>
          </div>
        </div>
      </div>

      <div id="temperatura-geral">
        <canvas id="chart-geral-temp"></canvas>
      </div>

      <div id="umidade-geral">
        <canvas id="chart-geral-umid"></canvas>
      </div>
    </div>    
  </div>
</body>

</html>


<script>
  var subMenu = document.getElementById("subMenu")

  function alternarMenu() {
    subMenu.classList.toggle("open-menu")
  }

  // Chart.js - 1º Gráfico - Temperatura racks
  const labels_rack = [
    'Rack 1',
    'Rack 2',
    'Rack 3',
    'Rack 4',
    'Rack 5',
    'Rack 6',
    'Rack 7',
  ]

  const data_rack = {
    labels: labels_rack,
    datasets: [{
      label: 'Temperatura ºC',
      backgroundColor:'rgba(75, 192, 192)',
      borderColor: '#E0211B',
      data: [19, 21, 20, 19, 20, 17, 23],
    }]
  };

  const config_rack = {
    type: 'bar',
    data: data_rack,
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        title: {
          display: true,
          text: 'Temperatura dos racks do data center 1 no dia 10/10/2022',
          align: "start",
          fullSize: false,
          font: {
            size: 22,
            weight: 600,
            lineHeight: 1.0,
          }
        }
      },
      indexAxis: 'y',
    },
  };

  const myChart_rack = new Chart(
    document.getElementById('chart-relatorio-rack'),
    config_rack
  );


  // Chart.js - 2º Gráfico - Relatório Downtimes 
  const labels_downtimes = [
    'Jan',
    'Fev',
    'Mar',
    'Abri',
    'Mai',
    'Jun',
    'Jul',
  ]

  const data_downtimes = {
    labels: labels_downtimes,
    datasets: [{
      label: 'Downtimes',
      backgroundColor: '#078BEE',
      borderColor: '#078BEE',
      data: [5, 8, 6, 10, 3, 9],
    }]
  };

  const config_downtimes = {
    type: 'bar',
    data: data_downtimes,
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        title: {
          display: true,
          text: 'Ocorrência de downtimes no 1º semestre do ano de 2022',
          align: "start",
          fullSize: false,
          font: {
            size: 22,
            weight: 600,
            lineHeight: 1.0,
          }
        }
      },
    },
  };

  const myChart_downtime = new Chart(
    document.getElementById('chart-relatorio-downtime'),
    config_downtimes
  );

  // Chart.js - 3º Gráfico - Gráfico geral de temperatura
  const labels_geral_temp = [
    '12:00',
    '12:10',
    '12:20',
    '12:30',
    '12:40',
    '12:50',
    '13:00',
  ];

  const data_geral_temp = {
    labels: labels_geral_temp,
    datasets: [{
      label: 'Temperatura',
      backgroundColor: '#E0211B',
      borderColor: '#E0211B',
      data: [23, 24, 22, 25, 23, 22, 21],
    }]
  };

  const config_geral_temp = {
    type: 'line',
    data: data_geral_temp,
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        title: {
          display: true,
          text: 'Temperatura média do data center 1 no dia 12/10/2022',
          align: "start",
          fullSize: false,
          font: {
            size: 22,
            weight: 600,
            lineHeight: 1.0,
          }
        }
      },
    }
  };

  const myChart_geral_temp = new Chart(
    document.getElementById('chart-geral-temp'),
    config_geral_temp
  );


  // Chart.js - 4º Gráfico - Gráfico geral de umidade
  const labels_geral_umid = [
    '12:00',
    '12:10',
    '12:20',
    '12:30',
    '12:40',
    '12:50',
    '13:00',
  ];

  const data_geral_umid = {
    labels: labels_geral_umid,
    datasets: [{
      label: 'Umidade',
      backgroundColor: '#078BEE',
      borderColor: '#078BEE',
      data: [62, 58, 60, 55, 57, 56, 61],
    }]
  };

  const config_geral_umid = {
    type: 'line',
    data: data_geral_umid,
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        title: {
          display: true,
          text: 'Umidade média do data center 1 no dia 12/10/2022',
          align: "start",
          fullSize: false,
          font: {
            size: 22,
            weight: 600,
            lineHeight: 1.0,
          }
        }
      },
    }
  };

  const myChart_geral_umid = new Chart(
    document.getElementById('chart-geral-umid'),
    config_geral_umid
  );

</script>